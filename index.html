<!DOCTYPE html>
<html lang="en">

<head>
    <title>Social Data Analysis</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <!-- Font family -->
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans" rel="stylesheet">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- D3 -->
    <script src="https://d3js.org/d3.v3.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/3.0.0/topojson.js"></script>
    <!-- Full page for smooth scrolling -->
    <link rel="stylesheet" type="text/css" href="css/jquery.fullPage.css" />
    <script type="text/javascript" src="scripts/jquery.fullPage.min.js">
    </script>
    <!--[if IE]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link rel="stylesheet" href="css/styles.css">
    <!-- Bubble chart -->
    <script src="https://phuonghuynh.github.io/js/bower_components/d3-transform/src/d3-transform.js"></script>
    <script src="https://phuonghuynh.github.io/js/bower_components/cafej/src/extarray.js"></script>
    <script src="https://phuonghuynh.github.io/js/bower_components/cafej/src/misc.js"></script>
    <script src="https://phuonghuynh.github.io/js/bower_components/cafej/src/micro-observer.js"></script>
    <script src="https://phuonghuynh.github.io/js/bower_components/microplugin/src/microplugin.js"></script>
    <script src="https://phuonghuynh.github.io/js/bower_components/bubble-chart/src/bubble-chart.js"></script>
    <script src="https://phuonghuynh.github.io/js/bower_components/bubble-chart/src/plugins/central-click/central-click.js"></script>
    <script src="https://phuonghuynh.github.io/js/bower_components/bubble-chart/src/plugins/lines/lines.js"></script>
    <script src="scripts/box.js"></script>
</head>

<body id="main">
    <!-- Begin Header -->
    <nav id="menu" class="navbar navbar-fixed-top" role="navigation">
        <div class="container-fluid">  
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
        </div>
            <div class="collapse navbar-collapse" id="navbar-collapse-1">
                <ul class="nav navbar-nav" id="menu">
                <li data-menuanchor="Home" class="active"><a href="#Home" onclick="this.blur();" style="outline:0">Information</a></li>
                <li data-menuanchor="firstPage" ><a href="#firstPage" onclick="this.blur();" style="outline:0">Fire stations</a></li>
                <li data-menuanchor="secondPage" ><a href="#secondPage" onclick="this.blur();" style="outline:0">Fire categories</a></li>
                <li data-menuanchor="thirdPage"><a href="#thirdPage" onclick="this.blur();">Battalion</a></li>
                <li data-menuanchor="fourthPage"><a href="#fourthPage" onclick="this.blur();">Fire Incidents</a></li>
                <li data-menuanchor="fifthPage"><a href="#fifthPage" onclick="this.blur();">Mean response time</a></li>
                <li data-menuanchor="sixthPage"><a href="#sixthPage" onclick="this.blur();">Mean meters per second</a></li>
                <li data-menuanchor="seventhPage"><a href="#seventhPage" onclick="this.blur();">Multiple regression</a></li>
                <li data-menuanchor="eighthPage"><a href="#eighthPage" onclick="this.blur();">Decision trees</a></li>
                <li data-menuanchor="ninthPage"><a href="#ninethPage" onclick="this.blur();">K-Means</a></li>
            </ul>
            </div>
        </div>
    </nav>
    <!-- End Header -->
    <div class="alert alert-danger" id="error">
        <strong>Error!</strong> This page is only for screens larger than 1024px width!
    </div>
    <div id="fullpage">

        <!-- Begin pages -->
        <div class="section">
            <div class="container" data-anchor="Home" id="homePage">
                <h1>San Francisco and itÂ´ s <span style="color:red">firefighters</span></h1>
                <p><a href="https://github.com/adalstef/social_data_final_project/blob/master/SFFD_fire_incidents.ipynb" target="_blank">Link to the iPython notebook </a><strong> </strong></p>
                <p><a href="https://data.sfgov.org/Public-Safety/Fire-Incidents/wr8u-xric" target="_blank">Link to the dataset</a><strong> </strong></p>
                <p><strong>One of the most important aspects of every fire department is the response time, or how quickly a fire department is at arriving on a scene. Every second can be critical. San Francisco's Open Data project has made it possible to find out these response times.</strong></p>
                <p><strong>The dataset consist of approx. 430.000 incidents (rows) from 2003, with 63 attributes (columns). Some of the attributes are more helpful than others in determining the response time, and it will be interesting to see if it is possible to predict the response time given some of the attributes.
                </strong></p>
                <p><strong>The dataset has both timestamps for alarm time and arrival time, which have to be subtracted from each other to get the response time. Approx. 85% incidents have geolocation, which will be very useful as one of the more critical attributes used to predict the response time. Furthermore, each fire incident has fire station attached to it. The distance from the fire station to the incident will also be useful.</strong></p>
            </div>
        </div>

        <div class="section">
            <div class="container" data-anchor="firstPage" id="page1">
                <h1>Fire stations</h1>
                <p><strong>San Francisco Fire Department (SFFD) has 45 fire stations located across San Francisco and they are further divided into 10 battalions. Size of a battalion ranges from 4 to 7 fire stations. Fire stations close to each other belong in the same battalion. You can some zoom in on the map by clicking on different regions in San Francisco.</strong></p>
                <!--<ul class="battalions">
                    <li>Battalion 1</li>
                    <li>Battalion 2</li>
                    <li>Battalion 3</li>
                    <li>Battalion 4</li>
                    <li>Battalion 5</li>
                    <li>Battalion 6</li>
                    <li>Battalion 7</li>
                    <li>Battalion 8</li>
                    <li>Battalion 9</li>
                    <li>Battalion 10</li>
                </ul>-->
            </div>
            
        </div>
        
        <div class="section">
            <div class="container" data-anchor="secondPage" id="page2">
                <div class="btn-group" data-toggle="buttons">
                    <p>The total number of fire categories is 176, we will only plot the top 30 categories. In this plot it is very clear that the most number of categories are related to false alarms, six out of the top ten categories. This is not very interesting and we will therefore look into the categories directly linked to fire. Five of these fire categories made it to the top 30 overall categories, which means, as expected, that there are far more false alarms than there are actual fires.</p>
                    <label class="btn btn-default active" onclick="switchBarChartDataCat('all')" style="outline:0">
                        <input value="Year" type="radio" checked="" >All 
                    </label>
                    <label class="btn btn-default" onclick="switchBarChartDataCat('fire')" style="outline:0">
                        <input value="Year" type="radio" >Fire
                    </label>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="container bubbleChart" data-anchor="thirdPage" id="page3">
            </div>
        </div>
        
        <div class="section">
            <div class="container" data-anchor="fourthPage" id="page4">
                <div class="btn-group" data-toggle="buttons">
                    <label class="btn btn-default active" onclick="switchBarChartData('year')" style="outline:0">
                        <input value="Year" type="radio" checked="" >Year
                    </label>
                    <label class="btn btn-default" onclick="switchBarChartData('month')" style="outline:0">
                        <input value="Year" type="radio" >Month
                    </label>
                    <label class="btn btn-default" onclick="switchBarChartData('weekday')" style="outline:0">
                        <input value="Year" type="radio" >Day
                    </label>
                    <label class="btn btn-default" onclick="switchBarChartData('hour')" style="outline:0">
                        <input value="Year" type="radio" >Hour
                    </label>
                </div>
            </div>
        </div>
        
        <div class="section">
            <div class="container" data-anchor="fifthPage" id="page5">
                <div class="btn-group" data-toggle="buttons">
                    <p><strong>We will now look at the mean response time for different attributes and try to see if there are any seasonal or other trends in the data. This will be helpful further down the road when we will try to predict the response time using multiple regression.

The data in these 6 plots is not very encouraging. There seems to be no obvious trends in the plots, except for sudden spike in response time from the year 2007 and onward, but that is likely related to inefficient data from the previous years.
</strong></p>
                    <label class="btn btn-default active" onclick="switchBarChartDataMrt('battalion')" style="outline:0">
                        <input value="Year" type="radio" checked="" >Battalions
                    </label>
                    <label class="btn btn-default" onclick="switchBarChartDataMrt('firestation')" style="outline:0">
                        <input value="Year" type="radio" >Fire stations
                    </label>
                    <label class="btn btn-default" onclick="switchBarChartDataMrt('year')" style="outline:0">
                        <input value="Year" type="radio" checked="" >Year
                    </label>
                    <label class="btn btn-default" onclick="switchBarChartDataMrt('month')" style="outline:0">
                        <input value="Year" type="radio" >Month
                    </label>
                    <label class="btn btn-default" onclick="switchBarChartDataMrt('weekday')" style="outline:0">
                        <input value="Year" type="radio" >Day
                    </label>
                    <label class="btn btn-default" onclick="switchBarChartDataMrt('hour')" style="outline:0">
                        <input value="Year" type="radio" >Hour
                    </label>
                </div>
            </div>
        </div>
        
        <div class="section">
            <div class="container" data-anchor="sixthPage" id="page6">
                <div class="btn-group" data-toggle="buttons">
                    <label class="btn btn-default active" onclick="switchBarChartDataMm('battalion')" style="outline:0">
                        <input value="Year" type="radio" checked="" >Battalions
                    </label>
                    <label class="btn btn-default" onclick="switchBarChartDataMm('firestation')" style="outline:0">
                        <input value="Year" type="radio" >Fire stations
                    </label>
                    <label class="btn btn-default" onclick="switchBarChartDataMm('year')" style="outline:0">
                        <input value="Year" type="radio" checked="" >Year
                    </label>
                    <label class="btn btn-default" onclick="switchBarChartDataMm('month')" style="outline:0">
                        <input value="Year" type="radio" >Month
                    </label>
                    <label class="btn btn-default" onclick="switchBarChartDataMm('weekday')" style="outline:0">
                        <input value="Year" type="radio" >Day
                    </label>
                    <label class="btn btn-default" onclick="switchBarChartDataMm('hour')" style="outline:0">
                        <input value="Year" type="radio" >Hour
                    </label>
                </div>
            </div>
        </div>   

        
        <div class="section">
            <div class="container" data-anchor="seventhPage" id="page7">
                
            </div>
        </div>
        
        <div class="section">
            <div class="container" data-anchor="eightPage" id="page8">

            </div>
        </div>
        
        <div class="section">
            <div class="container" data-anchor="ninethPage" id="page9">
                <div class="btn-group" data-toggle="buttons">
                    <label class="btn btn-default" onmouseover="showKData('k2')" style="outline:0">
                        <input value="Year" type="radio" checked="" >K2
                    </label>
                    <label class="btn btn-default" onmouseover="showKData('k3')" style="outline:0">
                        <input value="Year" type="radio" >K3
                    </label>
                    <label class="btn btn-default" onmouseover="showKData('k4')" style="outline:0">
                        <input value="Year" type="radio" >K4
                    </label>
                    <label class="btn btn-default" onmouseover="showKData('k5')" style="outline:0">
                        <input value="Year" type="radio" >K5
                    </label>
                    <label class="btn btn-default" onmouseover="showKData('k6')" style="outline:0">
                        <input value="Year" type="radio" >K6
                    </label>
                </div>
                <p style="font-size:14px">Click on map to zoom in</p>
            </div>
        </div>
    </div>
    

    <!-- End pages -->
    <script>
        // Show error message if the screen size is to small
        $(window).resize(function(){
            var width = $(window).width();
            if(width < 1024){
                $("#error").show();
            }
            else{
                $("#error").hide();
            }
            })
        
        $(document).ready(function() {
            // Load fullpage settings
            $('#fullpage').fullpage({
                anchors: ['Home','firstPage', 'secondPage', 'thirdPage', 'fourthPage', 'fifthPage', 'sixthPage', 'seventhPage', 'eighthPage', 'ninethPage'],
                navigation: true,
                navigationPosition: 'right',
                navigationTooltips: ['Information', 'Fire stations', 'Fire categories', 'Bubble', 'Bar incident','Bar mean s', 'Bar mean r', 'K-means', 'Multiple regression', 'Decision trees'],
                showActiveTooltip: false,
                menu: '#menu',
                scrollingSpeed: 2000,
                animateAnchor: true,
                onLeave: function(index, nextIndex, direction){
                    var leavingSection = $(this);

                    //after leaving section 2
                    if(index == 2 && direction =='down'){
                        reset();
                    }

                    else if(index == 2 && direction == 'up'){
                        reset();
                    }
                    
                }
                
            });
            
            // Load the SanFran Map
            loadMap();
            // Load categories chart
            loadBarChartDataCat();
            // Load bar chart
            loadBarChartData();
            // Load mean m per s bar chart
            loadBarChartDataMm();
            // Load Mean response time
            loadBarChartDataMrt()
            // Load the bubble chart
            loadBubbleChartData();
            // Load the k-means map
            loadKMeansMap();
            // Load Multiple Regression
            loadRegressionData();
            // Load Decision Tree
            loadDecisionTreeData();
        });
    
    </script>
    <script src="scripts/sfc-map-auto-zoom.js"></script>
    <script src="scripts/d3tip.js"></script>
    <script src="scripts/bar-stats.js"></script>
    <script src="scripts/bubble-chart.js"></script>
    <script src="scripts/k-means.js"></script>
    <script src="scripts/box-plot.js"></script>
    <script src="scripts/mean-response-time.js"></script>
    <script src="scripts/mean-m-per-s.js"></script>
    <script src="scripts/categories-bar.js"></script>
</body>

</html>